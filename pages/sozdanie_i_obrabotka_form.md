# Создание и обработка форм

Итак давайте начнем что нибудь посложней. Мы часто используем формы на наших сайтах и Angular делает работу с ними удивительно простой. Давайте создадит форму в которой будем добавлять в список новые компьютеры.

Нашу задачу можно разделить на две условные части:

1. Создание в Angular функции которая будет ответсвенна за обработку формы и добавления в список новых компьютеров
2. Добавить HTML форму и подключить ее для работы с Angular функциями

## Angular функции для обработки форм

Давайте добавим несколько Angular функций в наш контроллер.

```
// название нашего angular приложения
angular.module('firstApp', [])
    .controller('mainController', function () {
        // информация которая поступает из формы
        vm.computerData = {};

        vm.addComputer = function () {
            // добавляем компьютер в список
            vm.computers.push({
                name: vm.computerData.name,
                color: vm.computerData.color,
                nerdness: vm.computerData.nerdness
            });
            // после того как компьютер был добавлен, очищаем данные из формы
            vm.computerData = {};
        };
    });
```
Мы создали объект **vm.computerData** который будет хранить в себе всю информацию полученную с формы. Этот шаг являет необязательным так как Angular автоматически создаст его при необходимости, но мы не стали пропускать этот шаг для большей ясности.

Мы так же создали фунцию которая будет брать информацию из **vm.computerData** и добавлять новый элемент в начало массива с компьютерами. После добавления новый компьютер автоматически будет добавлен в таблицу представления без перезагруки страницы (прям как по волшебству).

После добавления компьютера в список, избавимся от введеных данных в форму очистив объект содержащие эти данные. В **jQuery** приложениях, очистка формы выглядит примерно так:

```
$('input').val('');
```

Но не в Angular! Мы знаем все о **data-binding** поэтому должны очистить объект на стороне Angular, изменения автоматически произойдут и на стороне представления.

И так с этим мы закончили, теперь приступим к созданию HTML формы и связывают ее с только что созданными функциями.

## HTML форма
В файле **index.html** ниже кода с таблицей компьютеров, добавим следующий код:

```
<form class="form-inline" ng-submit="main.addComputer()"> <input type="text" class="form-control" placeholder="Macbook" ng-model="main.computerData.name">
<input type="text" class="form-control" placeholder="Silver" ng-model="main.computerData.color">
<input type="number" class="form-control" placeholder="8" ng-model="main.computerData.nerdness">
<button type="submit" class="btn btn-success">Add</button> </form>
```
Мы имеем 3 разных инпута и одну кнопку отправки формы. Мы так же используем директиву **ng-model** для привязки каждого инпута с полем в объекте **computerData** который был создан в Angular контроллере.

Познакомимся с новой директивой **ng-submit**. Эта директива используется в форме и она сообщает Angular что делать когда форма была отправлена. Мы сообщаем Angular что при отправки формы должна вызываться функция **addComputer()** которая определена в нашем контроллере.

Вот как выглядит форма:
![HTML Form](img/2015-09-08 08-16-06 0y2l9.MeanMachine.pdf - Lumin PDF.png)
Вернемся наверх и заполним форму любыми данными и нажмем на кнопку **Add**. Убедитесь в том что новый компьютер был добавлен в таблицу без перезагрузки страницы!

## Заключение
В этой главе мы вкратце познакомились с несколькими новыми понятиями Angular. Все эти инструменты помогут вам создавать удивительные приложения и мы рассмотрим каждый из этих моментов более подробно в будущих реализациях. Привязка данных, внедрение зависимостей и директивы все это является основой любого Angular приложения и вы будете использовать их в каждом своем приложении.

На следующем шагу мы разберем как работает **роутинг** в Angular приложениях, благодаря ему мы будем строить более функциональные приложения/сайты с несколькими страницами.
